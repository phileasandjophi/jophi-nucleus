<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jophi Universe | The Cathedral Foyer</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #010103; font-family: 'Inter', sans-serif; color: #fff; }
        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        
        /* Minority Report Style Form Layer */
        #holographic-ui {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 80%; max-width: 900px; z-index: 10; display: none;
            flex-direction: column; align-items: center;
        }
        
        .holo-pane {
            background: rgba(0, 242, 255, 0.03);
            backdrop-filter: blur(10px);
            border-left: 1px solid rgba(0, 242, 255, 0.5);
            padding: 40px; border-radius: 4px;
            animation: pane-flicker 2s infinite alternate;
            width: 100%; box-sizing: border-box;
        }

        @keyframes pane-flicker {
            from { border-left: 1px solid rgba(0, 242, 255, 0.2); }
            to { border-left: 1px solid rgba(0, 242, 255, 0.8); }
        }

        .label { font-size: 9px; letter-spacing: 5px; color: #00f2ff; text-transform: lowercase; margin-bottom: 15px; opacity: 0.7; }
        input, select { 
            background: transparent; border: none; border-bottom: 1px solid rgba(255,255,255,0.2);
            color: #fff; width: 100%; padding: 10px 0; font-family: 'Inter'; font-weight: 200;
            font-size: 14px; outline: none; margin-bottom: 30px; letter-spacing: 1px;
        }
        input:focus { border-bottom: 1px solid #00f2ff; }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <div id="holographic-ui">
        <div class="holo-pane">
            <div class="label">Entity Declaration / Intake</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
                <div>
                    <div class="label">Legal Name / Identifier</div>
                    <input type="text" placeholder="enter identifier...">
                </div>
                <div>
                    <div class="label">Density Selection</div>
                    <select>
                        <option>Individual (Light)</option>
                        <option>Small Collective (Moderate)</option>
                        <option>Full Enterprise (Thick)</option>
                    </select>
                </div>
            </div>
            <button style="background:none; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 30px; cursor:pointer; font-size: 10px; letter-spacing: 4px;" onclick="finalize()">Finalize Transparenting</button>
        </div>
    </div>

    <script type="importmap">
        { "imports": { "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js" } }
    </script>

    <script type="module">
        import * as THREE from 'three';

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 1, 2000);
        camera.position.z = 800;
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // SACRED GEOMETRY GRID (The Cathedral Hallway)
        const gridGeo = new THREE.CylinderGeometry(400, 400, 2000, 12, 20, true);
        const gridMat = new THREE.MeshBasicMaterial({ 
            color: 0x00f2ff, wireframe: true, transparent: true, opacity: 0.15 
        });
        const cathedral = new THREE.Mesh(gridGeo, gridMat);
        cathedral.rotation.z = Math.PI / 2;
        scene.add(cathedral);

        // STARDUST (The Floor/Atmosphere)
        const starsGeo = new THREE.BufferGeometry();
        const pos = new Float32Array(3000 * 3);
        for(let i=0; i<3000*3; i++) pos[i] = (Math.random() - 0.5) * 1500;
        starsGeo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
        const starsMat = new THREE.PointsMaterial({ size: 1.2, color: 0xffffff, transparent: true, opacity: 0.3 });
        const stars = new THREE.Points(starsGeo, starsMat);
        scene.add(stars);

        function animate() {
            requestAnimationFrame(animate);
            cathedral.rotation.y += 0.001; // The Hallway rotates slowly
            renderer.render(scene, camera);
        }
        animate();

        // Show the UI after a delay to simulate "Entering"
        setTimeout(() => {
            document.getElementById('holographic-ui').style.display = 'flex';
        }, 2000);

        window.finalize = () => alert("Handshake Cataloged. Welcome to the Substrate.");
    </script>
</body>
</html>
